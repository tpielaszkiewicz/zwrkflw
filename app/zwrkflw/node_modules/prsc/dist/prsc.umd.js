!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).prsc={})}(this,(function(e){"use strict";function t(e,t){return{success:!0,offset:e,value:t}}function n(e){return t(e,void 0)}function u(e,t,n=!1){return{success:!1,offset:e,expected:t,fatal:n}}function r(e){return(n,u)=>{let r=[],s=u;for(;;){const t=e(n,s);if(!t.success){if(t.fatal)return t;break}r.push(t.value),s=t.offset}return t(s,r)}}function s(e,n,u){return(r,s)=>{const o=e(r,s);if(!o.success)return o;const c=n(r,o.offset);return c.success?t(c.offset,u(o.value,c.value)):c}}function o(e,t){return e}function c(e,t){return t}function f(e,t){return s(e,t,c)}function i(e,t){return s(e,t,o)}function l(e){return(t,n)=>{const r=e(t,n);return r.success?r:u(r.offset,r.expected,!0)}}const a=(e,t)=>e.length===t?n(t):u(t,["end of input"]);e.complete=function(e){return s(e,a,o)},e.cut=l,e.delimited=function(e,t,n,u=!1){return f(e,u?l(i(t,n)):i(t,n))},e.end=a,e.error=u,e.filter=function(e,t,n){return(r,s)=>{const o=e(r,s);return o.success?t(o.value)?o:u(s,n):o.offset===s?u(s,n):o}},e.first=o,e.followed=i,e.map=function(e,n){return(u,r)=>{const s=e(u,r);return s.success?t(s.offset,n(s.value)):s}},e.not=function(e,t){return(r,s)=>e(r,s).success?u(s,t):n(s)},e.ok=n,e.okWithValue=t,e.optional=function(e){return(n,u)=>{const r=e(n,u);return r.success||r.fatal?r:t(u,null)}},e.or=function(e){return(t,n)=>{let r=null;for(const u of e){const e=u(t,n);if(e.success)return e;if(null===r||e.offset>r.offset?r=e:e.offset===r.offset&&(r.expected=r.expected.concat(e.expected)),e.fatal)break}return r||u(n,[])}},e.peek=function(e){return(n,u)=>{const r=e(n,u);return r.success?t(u,r.value):r}},e.plus=function(e){return s(e,r(e),((e,t)=>[e].concat(t)))},e.preceded=f,e.recognize=function(e){return(n,u)=>{const r=e(n,u);return r.success?t(r.offset,n.slice(u,r.offset)):r}},e.second=c,e.star=r,e.start=(e,t)=>0===t?n(t):u(t,["start of input"]),e.then=s,e.token=function(e){return(n,r)=>{const s=r+e.length;return n.slice(r,s)===e?t(s,e):u(r,[e])}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=prsc.umd.js.map
